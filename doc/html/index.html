<html>
<head>
<title>Epeg Library Documentation</title>
<link href=epeg.css rel=stylesheet type=text/css>
</head>
<body>
<div class=nav>
<table border=0 align=center><tr>
<td width=16><img src=epeg_mini.png width=16 height=16 alt=E></td>
<td width=100% align=center>
E : P : E : G
</td>
<td width=16><img src=epeg_mini.png width=16 height=16 alt=E></td>
</tr></table>
</div>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Epeg Library Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="epeg.png" alt=""/>
</div>
 <dl class="section version"><dt>Version</dt><dd>0.9.0 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Carsten Haitzler <a href="#" onclick="location.href='mai'+'lto:'+'ras'+'te'+'r@r'+'as'+'ter'+'ma'+'n.c'+'om'; return false;">raste<span style="display: none;">.nosp@m.</span>r@ra<span style="display: none;">.nosp@m.</span>sterm<span style="display: none;">.nosp@m.</span>an.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-2003</dd></dl>
<h1><a class="anchor" id="intro"></a>
What is Epeg?</h1>
<p>An IMMENSELY FAST JPEG thumbnailer library API.</p>
<p>Why write this? It is a convenience library API to using libjpeg to load JPEG images destined to be turned into thumbnails of the original, saving information with these thumbnails, retreiving it and managing to load the image ready for scaling with the minimum of fuss and CPU overhead.</p>
<p>This means that it is insanely fast at loading large JPEG images and scaling them down to tiny thumbnails. The speedup that it provides will be proportional to the size difference between the source image and the output thumbnail size as a count of their pixels.</p>
<p>It makes use of libjpeg features of being able to load an image by only decoding the DCT coefficients needed to reconstruct an image of the size desired. This gives a massive speedup. If you do NOT try to access the pixels in a format other than YUV (or GRAY8 if the source is grascale), then it also avoids colorspace conversions as well.</p>
<p>Using the library is very easy; look at this example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span> <span class="comment">/* for printf() */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span> <span class="comment">/* for exit() */</span></div>
<div class="line"><span class="preprocessor">#include &quot;Epeg.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">   Epeg_Image *im;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span> (argc != 3) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Usage: %s input.jpg thumb.jpg\n&quot;</span>, argv[0]);</div>
<div class="line">        exit(0);</div>
<div class="line">   }</div>
<div class="line">   im = <a class="code" href="epeg_8c.html#a8295f48501747f18cbb74e4eb1c55836">epeg_file_open</a>(argv[1]);</div>
<div class="line">   <span class="keywordflow">if</span> (!im) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Cannot open %s\n&quot;</span>, argv[1]);</div>
<div class="line">        exit(-1);</div>
<div class="line">   }</div>
<div class="line">   </div>
<div class="line">   <a class="code" href="epeg_8c.html#a800dc04316740427b1f4366d973ff4e4">epeg_decode_size_set</a>(im, 128, 96);</div>
<div class="line">   <a class="code" href="epeg_8c.html#ad0c11f61561f622ca4097c47c75129bc">epeg_quality_set</a>(im, 75);</div>
<div class="line">   <a class="code" href="epeg_8c.html#a5cfe689f77dbe7b120317a195585ee51">epeg_thumbnail_comments_enable</a>(im, 1);</div>
<div class="line">   <a class="code" href="epeg_8c.html#a4aa4c7bbf3edf1f24603d3b4dad684b4">epeg_file_output_set</a>(im, argv[2]);</div>
<div class="line">   <a class="code" href="epeg_8c.html#a12a018084510ebdc0e627f56305fea79">epeg_encode</a>(im);</div>
<div class="line">   <a class="code" href="epeg_8c.html#a8faf0f0fab47ac97b86ee7e00e1bee7c">epeg_close</a>(im);</div>
<div class="line">   </div>
<div class="line">   <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aepeg_8c_html_a12a018084510ebdc0e627f56305fea79"><div class="ttname"><a href="epeg_8c.html#a12a018084510ebdc0e627f56305fea79">epeg_encode</a></div><div class="ttdeci">int epeg_encode(Epeg_Image *im)</div><div class="ttdoc">This saves the image to its specified destination.</div><div class="ttdef"><b>Definition:</b> epeg.c:903</div></div>
<div class="ttc" id="aepeg_8c_html_a4aa4c7bbf3edf1f24603d3b4dad684b4"><div class="ttname"><a href="epeg_8c.html#a4aa4c7bbf3edf1f24603d3b4dad684b4">epeg_file_output_set</a></div><div class="ttdeci">void epeg_file_output_set(Epeg_Image *im, const char *file)</div><div class="ttdoc">Set the output file path for the image when saved.</div><div class="ttdef"><b>Definition:</b> epeg.c:856</div></div>
<div class="ttc" id="aepeg_8c_html_a5cfe689f77dbe7b120317a195585ee51"><div class="ttname"><a href="epeg_8c.html#a5cfe689f77dbe7b120317a195585ee51">epeg_thumbnail_comments_enable</a></div><div class="ttdeci">void epeg_thumbnail_comments_enable(Epeg_Image *im, int onoff)</div><div class="ttdoc">Enable thumbnail comments in saved image.</div><div class="ttdef"><b>Definition:</b> epeg.c:838</div></div>
<div class="ttc" id="aepeg_8c_html_a800dc04316740427b1f4366d973ff4e4"><div class="ttname"><a href="epeg_8c.html#a800dc04316740427b1f4366d973ff4e4">epeg_decode_size_set</a></div><div class="ttdeci">void epeg_decode_size_set(Epeg_Image *im, int w, int h)</div><div class="ttdoc">Set the size of the image to decode in pixels.</div><div class="ttdef"><b>Definition:</b> epeg.c:216</div></div>
<div class="ttc" id="aepeg_8c_html_a8295f48501747f18cbb74e4eb1c55836"><div class="ttname"><a href="epeg_8c.html#a8295f48501747f18cbb74e4eb1c55836">epeg_file_open</a></div><div class="ttdeci">Epeg_Image * epeg_file_open(const char *file)</div><div class="ttdoc">Open a JPEG image by filename.</div><div class="ttdef"><b>Definition:</b> epeg.c:124</div></div>
<div class="ttc" id="aepeg_8c_html_a8faf0f0fab47ac97b86ee7e00e1bee7c"><div class="ttname"><a href="epeg_8c.html#a8faf0f0fab47ac97b86ee7e00e1bee7c">epeg_close</a></div><div class="ttdeci">void epeg_close(Epeg_Image *im)</div><div class="ttdoc">Close an image handle.</div><div class="ttdef"><b>Definition:</b> epeg.c:950</div></div>
<div class="ttc" id="aepeg_8c_html_ad0c11f61561f622ca4097c47c75129bc"><div class="ttname"><a href="epeg_8c.html#ad0c11f61561f622ca4097c47c75129bc">epeg_quality_set</a></div><div class="ttdeci">void epeg_quality_set(Epeg_Image *im, int quality)</div><div class="ttdoc">Set the encoding quality of the saved image.</div><div class="ttdef"><b>Definition:</b> epeg.c:817</div></div>
</div><!-- fragment --><p>This program exists as epeg_test.c so that you can compile this program with as small a line as:</p>
<pre class="fragment">gcc epeg_test.c -o epeg_test `epeg-config --cflags --libs`
</pre><p>It is a very simple library that just makes life easier when trying to generate lots of thumbnails for large JPEG images as quickly as possible. Your milage may vary, but it should save you lots of time and effort in using libjpeg in general.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd><p class="startdd">Check all input parameters for sanity. </p>
<p class="enddd">Actually report error conditions properly.</p>
</dd></dl>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</body>
</html>
